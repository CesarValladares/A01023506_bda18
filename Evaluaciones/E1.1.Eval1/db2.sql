create table Gomitas (id int not null,tipo varchar(10), sabor varchar(10), precio int not null,time_start date NOT NULL,time_end date NOT NULL,period business_time (time_start, time_end),PRIMARY KEY (id, business_time WITHOUT OVERLAPS))

insert into Gomitas (id, tipo, sabor, precio, time_start, time_end) values (1, 'panditas', 'limon', 30, '2018-01-01', '2018-12-31')

create TRIGGER precios AFTER update on gomitas referencing old as old_values new as new_values for each row mode db2sql when (new_values.precio > 0) begin atomic update Gomitas for portion of business_time from '2018-02-01' to '2018-02-15' set precio = precio + (precio * 0.45);update Gomitas for portion of business_time from '2018-02-16' to '2018-04-25' set precio = precio + (precio/10);update Gomitas for portion of business_time from '2018-04-26' to '2018-05-05' set precio = (precio + (precio/10)) + (precio * .45); update Gomitas for portion of business_time from '2018-05-06' to '2018-10-25' set precio = (precio + (precio/10)) + (precio + precio/10)/10; update Gomitas for portion of business_time from '2018-10-26' to '2018-11-05' set precio = (((precio + (precio/10)) + (precio + precio/10)/10)) * 1.45; update Gomitas for portion of business_time from '2018-11-06' to '2017-12-31' set precio = ((precio + (precio/10)) + (precio + precio/10)/10)*1.1; end
